{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/timeago.js/lib/locales.js","webpack:///./node_modules/timeago.js/lib/index.js","webpack:///./node_modules/timeago.js/lib/utils/date.js","webpack:///./node_modules/timeago.js/lib/format.js","webpack:///./node_modules/timeago.js/lib/realtime.js","webpack:///./node_modules/timeago.js/lib/utils/dom.js","webpack:///./FrontEnd/services/RecipeService.js","webpack:///./FrontEnd/UI.js","webpack:///./FrontEnd/globals.js","webpack:///./FrontEnd/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getLocale","register","EN","split","ZH","en_US","number","index","unit","parseInt","concat","Locales","zh_CN","locale","func","_format","format","_realtime","render","cancel","_locales","version","nextInterval","diffSec","formatDiff","toDate","toInt","SEC_ARRAY","f","input","Date","isNaN","test","trim","replace","diff","localeFunc","agoin","total_sec","Math","abs","length","date","nowDate","rst","ceil","_date","sec","_dom","TimerPool","clear","tid","clearTimeout","run","node","getTimerId","innerHTML","setTimeout","saveTimerId","nodes","undefined","getDateAttribute","getAttribute","attr","timerId","setAttribute","services_RecipeService","[object Object]","this","URI","response","fetch","json","recipe","method","body","data","console","log","recipeId","headers","Content-Type","recipeService","FrontEnd_UI","recipes","getRecipe","recipesCardContainer","document","getElementById","forEach","div","createElement","className","imagePath","title","ingredients","instructions","_id","lib","created_at","appendChild","id","shared","checked","postRecipe","clearRecipeForm","renderRecipes","reset","message","colorMessage","secondsToRemove","createTextNode","container","querySelector","recipeForm","insertBefore","remove","deleteRecipe","editRecipe","globals","globalRecipeId","addEventListener","e","image","files","formData","FormData","append","ui","addNewRecipe","renderMessage","preventDefault","target","classList","contains","renderEditModal","labelImage","fileName","pop"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.getLocale = exports.register = void 0;\r\n\r\n/**\r\n * Created by hustcc on 18/5/20.\r\n * Contract: i@hust.cc\r\n */\r\nvar EN = 'second_minute_hour_day_week_month_year'.split('_');\r\nvar ZH = '秒_分钟_小时_天_周_个月_年'.split('_');\r\n\r\nvar zh_CN = function zh_CN(number, index) {\r\n  if (index === 0) return ['刚刚', '片刻后'];\r\n  var unit = ZH[parseInt(index / 2)];\r\n  return [\"\".concat(number, \" \").concat(unit, \"\\u524D\"), \"\".concat(number, \" \").concat(unit, \"\\u540E\")];\r\n};\r\n\r\nvar en_US = function en_US(number, index) {\r\n  if (index === 0) return ['just now', 'right now'];\r\n  var unit = EN[parseInt(index / 2)];\r\n  if (number > 1) unit += 's';\r\n  return [\"\".concat(number, \" \").concat(unit, \" ago\"), \"in \".concat(number, \" \").concat(unit)];\r\n};\r\n/**\r\n * 所有的语言\r\n * @type {{en: function(*, *), zh_CN: function(*, *)}}\r\n */\r\n\r\n\r\nvar Locales = {\r\n  en_US: en_US,\r\n  zh_CN: zh_CN\r\n};\r\n/**\r\n * 注册语言\r\n * @param locale\r\n * @param func\r\n */\r\n\r\nvar register = function register(locale, func) {\r\n  Locales[locale] = func;\r\n};\r\n/**\r\n * 获取语言函数\r\n * @param locale\r\n * @returns {*}\r\n */\r\n\r\n\r\nexports.register = register;\r\n\r\nvar getLocale = function getLocale(locale) {\r\n  return Locales[locale] || en_US;\r\n};\r\n\r\nexports.getLocale = getLocale;","\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nObject.defineProperty(exports, \"format\", {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _format.format;\r\n  }\r\n});\r\nObject.defineProperty(exports, \"render\", {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _realtime.render;\r\n  }\r\n});\r\nObject.defineProperty(exports, \"cancel\", {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _realtime.cancel;\r\n  }\r\n});\r\nObject.defineProperty(exports, \"register\", {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _locales.register;\r\n  }\r\n});\r\nexports.version = void 0;\r\n\r\nvar _format = require(\"./format\");\r\n\r\nvar _realtime = require(\"./realtime\");\r\n\r\nvar _locales = require(\"./locales\");\r\n\r\n/**\r\n * Created by hustcc on 18/5/20.\r\n * Contract: i@hust.cc\r\n */\r\nvar version = \"4.0.0-beta.2\";\r\nexports.version = version;","\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.nextInterval = exports.diffSec = exports.formatDiff = exports.toDate = exports.toInt = void 0;\r\n\r\n/**\r\n * Created by hustcc on 18/5/20.\r\n * Contract: i@hust.cc\r\n */\r\nvar SEC_ARRAY = [60, 60, 24, 7, 365 / 7 / 12, 12];\r\n/**\r\n * change f into int, remove decimal. Just for code compression\r\n * @param f\r\n * @returns {number}\r\n */\r\n\r\nvar toInt = function toInt(f) {\r\n  return parseInt(f);\r\n};\r\n/**\r\n * format Date / string / timestamp to Date instance.\r\n * @param input\r\n * @returns {*}\r\n */\r\n\r\n\r\nexports.toInt = toInt;\r\n\r\nvar toDate = function toDate(input) {\r\n  if (input instanceof Date) return input;\r\n  if (!isNaN(input) || /^\\d+$/.test(input)) return new Date(toInt(input));\r\n  input = (input || '').trim().replace(/\\.\\d+/, '') // remove milliseconds\r\n  .replace(/-/, '/').replace(/-/, '/').replace(/(\\d)T(\\d)/, '$1 $2').replace(/Z/, ' UTC') // 2017-2-5T3:57:52Z -> 2017-2-5 3:57:52UTC\r\n  .replace(/([\\+\\-]\\d\\d)\\:?(\\d\\d)/, ' $1$2'); // -04:00 -> -0400\r\n\r\n  return new Date(input);\r\n};\r\n/**\r\n * format the diff second to *** time ago, with setting locale\r\n * @param diff\r\n * @param localeFunc\r\n * @returns {string | void | *}\r\n */\r\n\r\n\r\nexports.toDate = toDate;\r\n\r\nvar formatDiff = function formatDiff(diff, localeFunc) {\r\n  // if locale is not exist, use defaultLocale.\r\n  // if defaultLocale is not exist, use build-in `en`.\r\n  // be sure of no error when locale is not exist.\r\n  var i = 0,\r\n      agoin = diff < 0 ? 1 : 0,\r\n      // timein or timeago\r\n  total_sec = diff = Math.abs(diff);\r\n\r\n  for (; diff >= SEC_ARRAY[i] && i < SEC_ARRAY.length; i++) {\r\n    diff /= SEC_ARRAY[i];\r\n  }\r\n\r\n  diff = toInt(diff);\r\n  i *= 2;\r\n  if (diff > (i === 0 ? 9 : 1)) i += 1;\r\n  return localeFunc(diff, i, total_sec)[agoin].replace('%s', diff);\r\n};\r\n/**\r\n * calculate the diff second between date to be formatted an now date.\r\n * @param date\r\n * @param nowDate\r\n * @returns {number}\r\n */\r\n\r\n\r\nexports.formatDiff = formatDiff;\r\n\r\nvar diffSec = function diffSec(date, nowDate) {\r\n  nowDate = nowDate ? toDate(nowDate) : new Date();\r\n  return (nowDate - toDate(date)) / 1000;\r\n};\r\n/**\r\n * nextInterval: calculate the next interval time.\r\n * - diff: the diff sec between now and date to be formatted.\r\n *\r\n * What's the meaning?\r\n * diff = 61 then return 59\r\n * diff = 3601 (an hour + 1 second), then return 3599\r\n * make the interval with high performance.\r\n **/\r\n\r\n\r\nexports.diffSec = diffSec;\r\n\r\nvar nextInterval = function nextInterval(diff) {\r\n  var rst = 1,\r\n      i = 0,\r\n      d = Math.abs(diff);\r\n\r\n  for (; diff >= SEC_ARRAY[i] && i < SEC_ARRAY.length; i++) {\r\n    diff /= SEC_ARRAY[i];\r\n    rst *= SEC_ARRAY[i];\r\n  }\r\n\r\n  d = d % rst;\r\n  d = d ? rst - d : rst;\r\n  return Math.ceil(d);\r\n};\r\n\r\nexports.nextInterval = nextInterval;","\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.format = void 0;\r\n\r\nvar _date = require(\"./utils/date\");\r\n\r\nvar _locales = require(\"./locales.js\");\r\n\r\nvar format = function format(date, locale, nowDate) {\r\n  // diff seconds\r\n  var sec = (0, _date.diffSec)(date, nowDate); // format it with locale\r\n\r\n  return (0, _date.formatDiff)(sec, (0, _locales.getLocale)(locale));\r\n};\r\n\r\nexports.format = format;","\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.render = exports.cancel = void 0;\r\n\r\nvar _dom = require(\"./utils/dom\");\r\n\r\nvar _date = require(\"./utils/date\");\r\n\r\nvar _locales = require(\"./locales\");\r\n\r\n// 所有的 timer\r\nvar TimerPool = {};\r\n\r\nvar clear = function clear(tid) {\r\n  clearTimeout(tid);\r\n  delete TimerPool[tid];\r\n}; // 定时运行\r\n\r\n\r\nvar run = function run(node, date, localeFunc, nowDate) {\r\n  // 先清理掉之前的\r\n  clear((0, _dom.getTimerId)(node)); // get diff seconds\r\n\r\n  var diff = (0, _date.diffSec)(date, nowDate); // render\r\n\r\n  node.innerHTML = (0, _date.formatDiff)(diff, localeFunc);\r\n  var tid = setTimeout(function () {\r\n    run(node, date, localeFunc, nowDate);\r\n  }, (0, _date.nextInterval)(diff) * 1000, 0x7FFFFFFF); // there is no need to save node in object. Just save the key\r\n\r\n  TimerPool[tid] = 0;\r\n  (0, _dom.saveTimerId)(node, tid);\r\n}; // 取消一个 node 的实时渲染\r\n\r\n\r\nvar cancel = function cancel(node) {\r\n  if (node) clear((0, _dom.getTimerId)(node)); // get the timer of DOM node(native / jq).\r\n  else for (var tid in TimerPool) {\r\n      clear(tid);\r\n    }\r\n}; // 实时渲染一系列节点\r\n\r\n\r\nexports.cancel = cancel;\r\n\r\nvar render = function render(nodes, locale, nowDate) {\r\n  // by .length\r\n  if (nodes.length === undefined) nodes = [nodes];\r\n  var node;\r\n\r\n  for (var i = 0; i < nodes.length; i++) {\r\n    node = nodes[i];\r\n    var date = (0, _dom.getDateAttribute)(node);\r\n    var localeFunc = (0, _locales.getLocale)(locale);\r\n    run(node, date, localeFunc, nowDate);\r\n  }\r\n\r\n  return nodes;\r\n};\r\n\r\nexports.render = render;","\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.getTimerId = exports.saveTimerId = exports.getDateAttribute = void 0;\r\nvar ATTR_TIMEAGO_TID = 'timeago-tid';\r\nvar ATTR_DATETIME = 'datetime';\r\n/**\r\n * get the node attribute, native DOM and jquery supported.\r\n * @param node\r\n * @param name\r\n * @returns {*}\r\n */\r\n\r\nvar getAttribute = function getAttribute(node, name) {\r\n  if (node.getAttribute) return node.getAttribute(name); // native dom\r\n\r\n  if (node.attr) return node.attr(name); // jquery dom\r\n};\r\n/**\r\n * get the datetime attribute, `data-timeagp` / `datetime` are supported.\r\n * @param node\r\n * @returns {*}\r\n */\r\n\r\n\r\nvar getDateAttribute = function getDateAttribute(node) {\r\n  return getAttribute(node, ATTR_DATETIME);\r\n};\r\n/**\r\n * set the node attribute, native DOM and jquery supported.\r\n * @param node\r\n * @param timerId\r\n * @returns {*}\r\n */\r\n\r\n\r\nexports.getDateAttribute = getDateAttribute;\r\n\r\nvar saveTimerId = function saveTimerId(node, timerId) {\r\n  if (node.setAttribute) return node.setAttribute(ATTR_TIMEAGO_TID, timerId);\r\n  if (node.attr) return node.attr(ATTR_TIMEAGO_TID, timerId);\r\n};\r\n\r\nexports.saveTimerId = saveTimerId;\r\n\r\nvar getTimerId = function getTimerId(node) {\r\n  return getAttribute(node, ATTR_TIMEAGO_TID);\r\n};\r\n\r\nexports.getTimerId = getTimerId;","\r\n/**\r\n * Clase con metodos para reutilizar.\r\n */\r\nclass RecipeService {\r\n\r\n    /**\r\n     * Constructor tipico de una clase que se ejecuta\r\n     * cuando la clase se instancia.   \r\n     */\r\n    constructor() {\r\n        this.URI = 'http://localhost:3000/api/recipes'; // Direccion de donde esta mi API.\r\n    }\r\n\r\n    /**\r\n     * Este metodo hace una peticion get a localhost:3000/api/recipes\r\n     * para obtener datos.\r\n     * Esto puede tardar tiempo por lo que se hace el metodo async.\r\n     */\r\n    async getRecipe() { \r\n        const response = await fetch(this.URI); // Peticion get al backend que devuelve string.\r\n        const recipes = await response.json(); // Conversion de ese string a JSON.\r\n        return recipes;\r\n    }\r\n\r\n    /**\r\n     * Este metodo envia una peticion post al backend.\r\n     * Debe recibir los datos que se van a enviar al backend para que los guarde.\r\n     * @param {*} recipe \r\n     */\r\n    async postRecipe(recipe) {\r\n        // En este fetch coloco los header para decirle al backend que es lo que estoy enviando.\r\n        const response = await fetch(this.URI, {\r\n            method: 'POST',\r\n            body: recipe\r\n        });\r\n        const data = await response.json();\r\n\r\n        console.log(data);\r\n    }\r\n\r\n    /**\r\n     * Este metodo elimina la receta en el backend.\r\n     * Se le manda por parametro el id de la receta para que lo encuentre, igual\r\n     * que en el recipes.js de routes en el backend.\r\n     * Esto porque desde el frontend se debe enviar el id que se quiere eliminar.\r\n     * @param {*} recipeId \r\n     */\r\n    async deleteRecipe(recipeId) {\r\n        const response = await fetch(`${this.URI}/${recipeId}`, { // Esto lo envia al backend.\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'DELETE'\r\n        });\r\n        const data = await response.json();\r\n\r\n        console.log(data);\r\n    }\r\n\r\n    /**\r\n     * Metodo para editar una receta. \r\n     */\r\n    async editRecipe(recipeId, recipe) {\r\n        const response = await fetch(`${this.URI}/${recipeId}`, { // Esto lo envia al backend.\r\n            method: 'PUT',\r\n            body: recipe\r\n        });\r\n        const data = await response.json();\r\n\r\n        console.log(data);\r\n    }\r\n}\r\n\r\nexport default RecipeService;\r\n","\r\nimport RecipeService from './services/RecipeService'\r\nconst recipeService = new RecipeService();\r\n\r\nimport { format } from 'timeago.js';\r\n\r\n/**\r\n * El objetivo de esta clase es interactuar con el navegador.\r\n */\r\nclass UI {\r\n    /**\r\n     * Metodo para renderizar las recetas en pantalla de las personales.\r\n     */\r\n    async renderRecipes() {\r\n        const recipes = await recipeService.getRecipe();\r\n        const recipesCardContainer = document.getElementById('recipes-cards'); // Contenedor donde se va a renderizar.\r\n        recipesCardContainer.innerHTML = ''; // Verifico que este limpio.\r\n        recipes.forEach(recipe => {\r\n            const div = document.createElement('div');\r\n            div.className = '';\r\n            div.innerHTML = `\r\n                <div class=\"card m-2\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-4\">\r\n                            <img src=\"http://localhost:3000${recipe.imagePath}\" alt=\"\" class=\"img-fluid\" />\r\n                        </div>\r\n                        <div class=\"col-md-8\">\r\n                            <div class=\"card-block px-2\">\r\n                                <h3 class=\"card-title mt-1\">${recipe.title}</h3> \r\n                                <h5>Ingredients:</h5>\r\n                                <p class=\"card-text\">${recipe.ingredients}</p>\r\n                                <h5>Instructions:</h5>\r\n                                <p class=\"card-text\">${recipe.instructions}</p>\r\n                                <a href=\"#\" class=\"btn btn-primary delete\" _id=\"${recipe._id}\" style=\"max-width:3.9rem; width:3.9rem;\">\r\n                                    <h3 class=\"delete\" _id=\"${recipe._id}\">🗑</h3>\r\n                                </a>\r\n                                <a href=\"#\" class=\"btn btn-success edit\" data-toggle=\"modal\" data-target=\"#myModal\" _id=\"${recipe._id}\" style=\"max-width:3.9rem; width:3.9rem;\" > \r\n                                    <h3 class=\"edit\" _id=\"${recipe._id}\">🖊</h3>\r\n                                </a>\r\n\r\n                                <br>\r\n                                <br>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        ${format(recipe.created_at)}\r\n                    </div>\r\n                </div>\r\n            `; // Que va a tener adentro.\r\n            recipesCardContainer.appendChild(div);\r\n        });\r\n    }\r\n\r\n    /**\r\n    * Obtiene el id de la receta que selecciono el usuario, busca el id de esa receta\r\n    * en la base de datos y llena el edit modal con los valores de la receta que se va a editar.\r\n    */\r\n    async renderEditModal(id) {\r\n        const recipes = await recipeService.getRecipe();\r\n        recipes.forEach(recipe => {\r\n            if (id == recipe._id) {\r\n                const modalTitle = document.getElementById('modalTitle');\r\n                modalTitle.value = recipe.title;\r\n                const modalIngredients = document.getElementById('modalIngredients');\r\n                modalIngredients.value = recipe.ingredients;\r\n                const modalInstructions = document.getElementById('modalInstructions');\r\n                modalInstructions.value = recipe.instructions;\r\n                if (recipe.shared == false) {\r\n                    const modalPrivateRadio = document.getElementById('modalPrivateRadio');\r\n                    modalPrivateRadio.checked = true;\r\n                    const modalPublicRadio = document.getElementById('modalPublicRadio');\r\n                    modalPublicRadio.checked = false;\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Metodo para agregar una nueva receta.\r\n     */\r\n    async addNewRecipe(recipe) {\r\n        await recipeService.postRecipe(recipe);\r\n        this.clearRecipeForm();\r\n        this.renderRecipes();\r\n    }\r\n\r\n    /**\r\n     * Metodo para limpiar el formulario y lo resetea.\r\n     */\r\n    clearRecipeForm() {\r\n        document.getElementById('recipe-form').reset();\r\n    }\r\n\r\n    /**\r\n     * Metodo para renderizar un msj.\r\n     */\r\n    renderMessage(message, colorMessage, secondsToRemove) {\r\n        const div = document.createElement('div');\r\n        div.className = `alert alert-${colorMessage} message`;\r\n        div.appendChild(document.createTextNode(message));\r\n\r\n        const container = document.querySelector('.col-md-4');\r\n        const recipeForm = document.querySelector('#recipe-form');\r\n\r\n        container.insertBefore(div, recipeForm); // Coloca el msj entre el form y el col-md-4.\r\n        setTimeout(() => {\r\n            document.querySelector('.message').remove(); // Todos los elementos que tengan clase \"message\" seran removidos.\r\n        }, secondsToRemove);\r\n    }\r\n\r\n    /**\r\n     * Eliminar un elemento de la pantalla.\r\n     */\r\n    async deleteRecipe(recipeId) {\r\n        await recipeService.deleteRecipe(recipeId);\r\n        this.renderRecipes();\r\n    }\r\n\r\n    /**\r\n     * Metodo para editar un elemento.\r\n     */\r\n    async editRecipe(recipeId, recipe) {\r\n        await recipeService.editRecipe(recipeId, recipe); \r\n    }\r\n}\r\n\r\nexport default UI;","export default {\r\n    globalRecipeId: 0\r\n};","require('./styles/app.css');\r\n\r\nimport UI from './UI';\r\nimport globals from './globals';\r\n\r\n// Evento: Una vez el navegador haya pintado la interfaz (DOM haya sido cargado) me traigo los datos desde el backend.\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const ui = new UI();\r\n    ui.renderRecipes();\r\n});\r\n\r\n// Aqui se obtiene por el id del formulario todos los datos que ingresa el usuario a traves de los inputs del Form en el index.html.\r\ndocument.getElementById('recipe-form')\r\n    .addEventListener('submit', e => { // Funcion flecha.\r\n    const title = document.getElementById('title').value;\r\n    const ingredients = document.getElementById('ingredients').value;\r\n    const instructions = document.getElementById('instructions').value;\r\n    const image = document.getElementById('image').files;\r\n    const shared = document.getElementById('publicRadio').checked;\r\n\r\n\r\n    console.log(title, ingredients, instructions, image, shared);    \r\n\r\n    // Los datos de la receta se quieren enviar por post, pero este metodo en RecipeService\r\n    // solo recibe un objeto por parametro, por lo tanto se crea un Formdata para poder enviarlo a partir\r\n    // de los datos recopilados por getElementById de arriba.\r\n    const formData = new FormData(); // Es un formulario virtual de JS.\r\n    formData.append('image', image[0]);\r\n    formData.append('title', title);\r\n    formData.append('ingredients', ingredients);\r\n    formData.append('instructions', instructions);    \r\n    formData.append('shared', shared);\r\n\r\n    const ui = new UI();\r\n    ui.addNewRecipe(formData);\r\n    ui.renderMessage('New Recipe Added', 'success', 3000);\r\n\r\n    e.preventDefault(); // Cuando se envia el formulario ya no se reinicia.\r\n});\r\n\r\n// Eliminar datos.\r\ndocument.getElementById('recipes-cards').addEventListener('click', e => {\r\n    // Quiero comprobar que solo capture el click en el boton de delete.\r\n    if (e.target.classList.contains('delete')) { // Para que solo capture el evento que tiene un delete. \r\n        //console.log(e.target.getAttribute('_id'));\r\n        const ui = new UI();\r\n        ui.deleteRecipe(e.target.getAttribute('_id')); // Se encarga de eliminar\r\n        ui.renderMessage('Recipe Removed', 'danger', 2000);\r\n    }\r\n    e.preventDefault();\r\n});\r\n\r\n// Editar datos. \r\ndocument.getElementById('recipes-cards').addEventListener('click', e => {\r\n    // Quiero comprobar que solo capture el click en el boton de delete.\r\n    if (e.target.classList.contains('edit')) { // Para que solo capture el evento que tiene un delete. \r\n        //console.log(e.target.getAttribute('_id'));\r\n        const ui = new UI();\r\n        ui.renderEditModal(e.target.getAttribute('_id')); // Se encarga de eliminar   \r\n        globals.globalRecipeId = e.target.getAttribute('_id');\r\n        console.log(globals.globalRecipeId);\r\n    }\r\n   // e.preventDefault(); //Lo tenia delete\r\n});\r\n\r\n/*\r\n// Cuando se le da al boton del modal, es como si fuera submit del formulario.\r\ndocument.getElementById('saveModal').addEventListener('click', e => {\r\n        document.getElementById(\"modal-recipe-form\").submit(); \r\n});\r\n*/\r\n\r\ndocument.getElementById('modal-recipe-form').addEventListener('submit', e => {\r\n        const title = document.getElementById('modalTitle').value;\r\n        const ingredients = document.getElementById('modalIngredients').value;\r\n        const instructions = document.getElementById('modalInstructions').value;\r\n        const image = document.getElementById('modalImage').files;\r\n        const shared = document.getElementById('modalPublicRadio').checked;\r\n    \r\n        console.log(title); \r\n        console.log(ingredients);\r\n        console.log(instructions);\r\n        console.log(image);\r\n        console.log(shared);   \r\n\r\n        const formData = new FormData(); // Es un formulario virtual de JS.\r\n        formData.append('image', image[0]);\r\n        formData.append('title', title);\r\n        formData.append('ingredients', ingredients);\r\n        formData.append('instructions', instructions);    \r\n        formData.append('shared', shared);\r\n    \r\n        const ui = new UI();\r\n        /*Como seguia*/\r\n        ui.editRecipe(globals.globalRecipeId, formData); \r\n        ui.renderMessage('Recipe Edited', 'success', 2000); \r\n});\r\n\r\ndocument.getElementById('image').addEventListener('change', e => {\r\n    // Hacer que aparezca el titulo.\r\n    const labelImage = document.getElementById('labelImage');\r\n    const image = document.getElementById('image').files;\r\n    // Elimina el path.\r\n    var fileName = image[0].name;\r\n    fileName = fileName.split(/(\\\\|\\/)/g).pop();\r\n    labelImage.innerHTML = fileName;\r\n});\r\n\r\ndocument.getElementById('modalImage').addEventListener('change', e => {\r\n    // Hacer que aparezca el titulo.\r\n    const labelImage = document.getElementById('modalLabelImage');\r\n    const image = document.getElementById('modalImage').files;\r\n    // Elimina el path.\r\n    var fileName = image[0].name;\r\n    fileName = fileName.split(/(\\\\|\\/)/g).pop();\r\n    labelImage.innerHTML = fileName;\r\n});"],"sourceRoot":""}